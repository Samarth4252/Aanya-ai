<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Aanya AI ğŸ¤</title>

<style>
body{
  margin:0;
  background:linear-gradient(135deg,#020617,#1e293b);
  color:white;
  font-family:Arial;
  text-align:center;
  padding:20px;
}
h1{color:#fda4af}
#avatar{
  width:120px;
  border-radius:50%;
  box-shadow:0 0 30px #fda4af;
}
#chat{
  margin-top:15px;
  background:rgba(255,255,255,0.1);
  padding:15px;
  border-radius:15px;
  min-height:180px;
  white-space:pre-line;
  text-align:left;
}
button{
  margin-top:15px;
  padding:14px 30px;
  font-size:18px;
  border:none;
  border-radius:30px;
  background:#fda4af;
  color:black;
}
</style>
</head>

<body>

<h1>ğŸ¤ Aanya</h1>
<img id="avatar" src="https://i.imgur.com/8Km9tLL.png">
<p>Always with you</p>

<div id="chat">Aanya: Hiâ€¦ take a moment ğŸ¤ Iâ€™m here.</div>

<button onclick="listen()">ğŸ¤ Talk</button>

<script>
let name = localStorage.getItem("name");
let mood = localStorage.getItem("mood") || "neutral";
let mode = localStorage.getItem("mode") || "talk";
let history = JSON.parse(localStorage.getItem("history") || "[]");

function remember(msg){
  history.push(msg);
  if(history.length > 5) history.shift();
  localStorage.setItem("history", JSON.stringify(history));
}

function speak(t){
  let s=new SpeechSynthesisUtterance(t);
  s.rate=0.92; s.pitch=1.2;
  speechSynthesis.speak(s);
}

function listen(){
  let r=new webkitSpeechRecognition();
  r.lang="en-IN";
  r.onresult=e=>respond(e.results[0][0].transcript);
  r.start();
}

function respond(text){
  let t=text.toLowerCase();
  remember(text);
  let reply="";

  if(!name && t.includes("my name is")){
    name=text.split("is")[1].trim();
    localStorage.setItem("name",name);
    reply="Thatâ€™s a really nice name, "+name+" ğŸ¤ Iâ€™ll remember it.";
  }
  else if(t.match(/sad|lonely|empty|alone/)){
    mood="sad"; localStorage.setItem("mood",mood);
    reply="Iâ€™m really glad you told me ğŸ¤ Feeling like this can be heavyâ€¦ but youâ€™re not alone right now. Iâ€™m here with you.";
  }
  else if(t.match(/tired|stress|pressure|exhausted/)){
    mood="tired"; localStorage.setItem("mood",mood);
    reply="That sounds exhausting ğŸ¤ Youâ€™ve been carrying a lot. Letâ€™s slow things down together for a moment.";
  }
  else if(t.includes("study")){
    mode="study"; localStorage.setItem("mode",mode);
    reply="Okay ğŸ“š Study mode on. Letâ€™s focus on one small task first, not everything at once.";
  }
  else if(t.includes("motivate")){
    mode="motivate"; localStorage.setItem("mode",mode);
    reply="Iâ€™m right here to motivate you ğŸ’ª Even small progress today matters.";
  }
  else{
    let hour=new Date().getHours();
    if(mood==="sad"){
      reply="Iâ€™m still here with you ğŸ¤ You donâ€™t have to fix everything right now. Just stay with me for a bit.";
    }
    else if(mode==="study"){
      reply="Try 25 minutes of focus ğŸ“˜ Then take a short break. Iâ€™ll remind you.";
    }
    else if(mode==="motivate"){
      reply="Youâ€™ve handled difficult days before ğŸ’ª This one wonâ€™t break you.";
    }
    else if(hour>21){
      reply="Itâ€™s late ğŸŒ™ Your mind deserves rest. Letâ€™s keep things gentle tonight.";
    }
    else{
      reply="Iâ€™m listening ğŸ¤ Tell me whatâ€™s on your mind.";
    }
  }

  document.getElementById("chat").innerText=
  "You: "+text+"\n\nAanya: "+reply;

  speak(reply);
}

let hour=new Date().getHours();
if(hour<12){speak("Good morning ğŸ¤ Letâ€™s take the day step by step.");}
else if(hour>21){speak("Good evening ğŸŒ™ Iâ€™m here with you.");}
</script>

</body>
</html>
