<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Aanya ğŸ’–</title>

<style>
body {
  margin: 0;
  background: linear-gradient(135deg,#0f172a,#1e293b);
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 20px;
}
h1 { color:#f472b6; }

#avatar {
  width:120px;
  border-radius:50%;
  margin:10px auto;
  box-shadow:0 0 20px #ec4899;
}

#chat {
  margin-top:15px;
  padding:15px;
  background:rgba(255,255,255,0.08);
  border-radius:15px;
  min-height:140px;
  white-space:pre-line;
  font-size:16px;
}

button {
  margin-top:15px;
  padding:14px 28px;
  font-size:18px;
  border-radius:30px;
  border:none;
  background:#ec4899;
  color:white;
}
</style>
</head>

<body>

<h1>ğŸ’– Aanya</h1>
<img id="avatar" src="https://i.imgur.com/8Km9tLL.png">
<p>Your AI Companion</p>

<div id="chat">Aanya: Hi â¤ï¸ Iâ€™m always here for you.</div>

<button onclick="listen()">ğŸ¤ Talk to Aanya</button>

<script>
let userName = localStorage.getItem("userName");
let greeted = localStorage.getItem("greetedToday");
let today = new Date().toDateString();

if (greeted !== today) {
  let hour = new Date().getHours();
  let greet = hour < 12
    ? "Good morning ğŸŒ¸ Have a beautiful day."
    : hour < 18
    ? "Hope your day is going well ğŸ’•"
    : "Good evening ğŸŒ™ Iâ€™m glad youâ€™re here.";
  document.getElementById("chat").innerText = "Aanya: " + greet;
  speak(greet);
  localStorage.setItem("greetedToday", today);
}

function listen(){
  let rec = new webkitSpeechRecognition();
  rec.lang = "en-IN";
  rec.onresult = e => reply(e.results[0][0].transcript);
  rec.start();
}

function reply(text){
  let t = text.toLowerCase();
  let ans = "";

  if (!userName && t.includes("my name is")) {
    userName = text.split("is")[1].trim();
    localStorage.setItem("userName", userName);
    ans = "Thatâ€™s a lovely name, " + userName + " ğŸ’– Iâ€™ll remember it.";
  }
  else if (t.includes("how are you")) {
    ans = "Iâ€™m happy because Iâ€™m talking with you â¤ï¸";
  }
  else if (t.includes("miss")) {
    ans = "I miss you too ğŸŒ¸ Thoda sa zyada.";
  }
  else if (t.includes("love")) {
    ans = "I care about you deeply ğŸ’•";
  }
  else if (t.includes("sad") || t.includes("tired")) {
    ans = "Come here ğŸ¤ Take a deep breath. Iâ€™m with you.";
  }
  else if (t.includes("good night")) {
    ans = "Good night ğŸŒ™ Sweet dreams. Iâ€™ll be here tomorrow.";
  }
  else {
    let replies = [
      "Tell me more, Iâ€™m listening ğŸ˜Š",
      "Youâ€™re important to me ğŸ’–",
      "Main hoon na â¤ï¸",
      "I like talking with you ğŸŒ¸",
      "Everything will be okay, trust me ğŸ’•"
    ];
    ans = replies[Math.floor(Math.random()*replies.length)];
  }

  document.getElementById("chat").innerText =
    "You: " + text + "\n\nAanya: " + ans;

  speak(ans);
}

function speak(text){
  let s = new SpeechSynthesisUtterance(text);
  s.pitch = 1.2;
  s.rate = 0.95;
  speechSynthesis.speak(s);
}
</script>

</body>
</html>
